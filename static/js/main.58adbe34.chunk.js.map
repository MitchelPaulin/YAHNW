{"version":3,"sources":["common.js","Comment.js","CommentWindow.js","imgs/bubble.png","Story.js","StoryWindow.js","App.js","index.js"],"names":["getHumanReadableTimeElapsed","unixTimeStamp","secondsElapsedSincePost","Math","floor","Date","now","days","hours","minutes","Comment","props","state","kids","comment","isHidden","root","fetch","then","resp","json","response","this","setState","bind","fetchComments","rootKid","prevProps","purified","DOMPurify","sanitize","childComments","kid","push","nesting","style","paddingLeft","class","onClick","authorClicked","borderLeft","paddingBottom","dangerouslySetInnerHTML","__html","Component","CommentWindow","comments","shouldHide","paddingTop","Story","id","commentCallback","selected","float","width","href","display","commentIconClicked","length","src","bubble","alt","clear","StoryWindow","commentClickCallback","kidsArray","selectedStory","data","stories","s","App","className","color","textDecoration","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.58adbe34.chunk.js","sourcesContent":["const secondsInDay = 86400;\r\nconst secondsInHour = 3600;\r\nconst secondsInMinute = 60;\r\n\r\nexport function getHumanReadableTimeElapsed(unixTimeStamp) {\r\n\r\n    let unixTimeNow = Math.floor(Date.now() / 1000);\r\n    let secondsElapsedSincePost = unixTimeNow - unixTimeStamp;\r\n\r\n    if (secondsElapsedSincePost >= secondsInDay) {\r\n        let days = Math.floor(secondsElapsedSincePost / secondsInDay);\r\n        return days > 1 ? `${days} days ago` : '1 day ago';\r\n    }\r\n\r\n    if (secondsElapsedSincePost >= secondsInHour) {\r\n        let hours = Math.floor(secondsElapsedSincePost / secondsInHour);\r\n        return hours > 1 ? `${hours} hours ago` : '1 hour ago';\r\n    }\r\n\r\n    let minutes = Math.floor(secondsElapsedSincePost / secondsInMinute);\r\n    if (minutes > 0) {\r\n        return minutes > 1 ? `${minutes} minutes ago` : '1 minute ago';\r\n    }\r\n\r\n    return 'Just Posted';\r\n}","import React, { Component } from 'react';\r\nimport './styles/comment.css';\r\nimport DOMPurify from 'dompurify';\r\nimport { getHumanReadableTimeElapsed } from './common.js';\r\n\r\nclass Comment extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            kids: null,\r\n            comment: null,\r\n            isHidden: false\r\n        }\r\n    }\r\n\r\n    fetchComments(root) {\r\n        let head = 'https://hacker-news.firebaseio.com/v0/item/';\r\n        let tail = '.json'\r\n\r\n        fetch(head + root + tail)\r\n            .then((resp) => resp.json())\r\n            .then(function (response) {\r\n                this.setState({ comment: response });\r\n            }.bind(this));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.fetchComments(this.props.rootKid);\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props.rootKid !== prevProps.rootKid) {\r\n            this.setState({ isHidden: false });\r\n            this.fetchComments(this.props.rootKid);\r\n        }\r\n    }\r\n\r\n    authorClicked() {\r\n        this.setState({ isHidden: !this.state.isHidden });\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.comment && !this.state.comment['deleted']) {\r\n\r\n            //Comments are given in HTML, important that we sanitize the content before displaying it \r\n            let purified = DOMPurify.sanitize(this.state.comment['text']);\r\n\r\n            //Create the child comments of this comment\r\n            let childComments = [];\r\n            if (this.state.comment['kids']) {\r\n                for (let kid of this.state.comment['kids']) {\r\n                    childComments.push(<Comment rootKid={kid} nesting={this.props.nesting + 1}></Comment>);\r\n                }\r\n            }\r\n\r\n            if (!this.state.isHidden) {\r\n                return (\r\n                    <div style={{ paddingLeft: (this.props.nesting === 0 ? '0%' : '2%') }}>\r\n                        <div style={{ borderLeft: (this.props.nesting === 0 ? 'none' : '1px solid grey') }}>\r\n                            <button class=\"comment-author\" onClick={() => this.authorClicked()}>\r\n                                <div class=\"inline\" style={{ paddingLeft: '1%' }}>\r\n                                    <div class=\"triangle-up-comment\"></div>\r\n                                </div>\r\n                                {this.state.comment['by']}\r\n                                <p class=\"time\">{getHumanReadableTimeElapsed(this.state.comment['time'])}</p>\r\n                            </button>\r\n                            <div>\r\n                                <div style={{ paddingBottom: '1%', paddingLeft: '3%' }}\r\n                                    dangerouslySetInnerHTML={{\r\n                                        __html: purified\r\n                                    }}></div>\r\n                            </div>\r\n                            {childComments}\r\n                        </div>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return (\r\n                    <div style={{ paddingLeft: (this.props.nesting === 0 ? '0%' : '2%') }}>\r\n                        <button class=\"comment-author\" onClick={() => this.authorClicked()}>\r\n                            <div class=\"inline\" style={{ paddingLeft: '1%' }}>\r\n                                <div class=\"triangle-down-comment\"></div>\r\n                            </div>\r\n                            {this.state.comment['by']}\r\n                            <p class=\"time\">{getHumanReadableTimeElapsed(this.state.comment['time'])}</p>\r\n                        </button>\r\n                    </div>\r\n                )\r\n            }\r\n        }\r\n        return <div></div>\r\n    }\r\n}\r\n\r\nexport default Comment;","import React, { Component } from 'react';\r\nimport Comment from './Comment';\r\nimport './styles/comment.css';\r\n\r\nclass CommentWindow extends Component {\r\n\r\n    render() {\r\n\r\n        if (this.props.kids) {\r\n            let comments = [];\r\n            for (let kid of this.props.kids) {\r\n                comments.push(<Comment rootKid={kid} nesting={0} shouldHide={false}></Comment>)\r\n            }\r\n            return (\r\n                <div style={{paddingTop: '1%'}} class=\"comment\">\r\n                    {comments}\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                <p>Click on a speech bubble to load some comments</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default CommentWindow;","export default __webpack_public_path__ + \"static/media/bubble.7187cb4e.png\";","import React, { Component } from 'react';\r\nimport './styles/story.css';\r\nimport { getHumanReadableTimeElapsed } from './common.js';\r\nimport bubble from './imgs/bubble.png';\r\nclass Story extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            json: null\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n        let link = 'https://hacker-news.firebaseio.com/v0/item/';\r\n        let tail = '.json';\r\n\r\n        fetch(link + this.props.id + tail)\r\n            .then((resp) => resp.json())\r\n            .then(function (response) {\r\n                this.setState({ json: response });\r\n            }.bind(this));\r\n    }\r\n\r\n    commentIconClicked() {\r\n        this.props.commentCallback(this.state.json['kids'], this.state.json['id']);\r\n    }\r\n\r\n    render() {\r\n        if (this.state.json) {\r\n            return (\r\n                <div class=\"bottom\" style={this.props.selected ? { borderLeft: '10px solid orange' } : {}}>\r\n                    <div style={{ float: 'left', width: '85%' }}>\r\n                        <a class=\"title\" href={this.state.json['url']}>{this.state.json['title']}</a>\r\n                        <div style={{ display: 'flex' }}>\r\n                            <p class=\"author\">{this.state.json['by']}</p>\r\n                            <p class=\"time-story\">{getHumanReadableTimeElapsed(this.state.json['time'])}</p>\r\n                        </div>\r\n                        <a class=\"link\" href={this.state.json['url']}>{this.state.json['url']}</a>\r\n                    </div>\r\n                    <div style={{ float: 'right', width: '8%' }}>\r\n                        <p class=\"inline\">{this.state.json['score']}</p>\r\n                        <div class=\"triangle-up inline\"></div>\r\n                        <div class=\"block\" onClick={() => this.commentIconClicked()}>\r\n                            <p class=\"inline\">{this.state.json['kids'] ? this.state.json['kids'].length : 0}</p>\r\n                            <img src={bubble} alt=\"speech bubble\" style={{ width: \"25%\"}}></img>\r\n                        </div>\r\n                    </div>\r\n                    <div style={{ clear: 'both' }}></div>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div></div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Story;","import React, { Component } from 'react';\r\nimport CommentWindow from './CommentWindow';\r\nimport Story from './Story';\r\nimport './styles/storyWindow.css'\r\n\r\nclass StoryWindow extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: null,\r\n            kids: null,\r\n            selectedStory: null\r\n        }\r\n    }\r\n\r\n    commentClickCallback = (kidsArray, id) => {\r\n        this.setState({ kids: kidsArray, selectedStory: id });\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('https://hacker-news.firebaseio.com/v0/topstories.json')\r\n            .then((resp) => resp.json())\r\n            .then(function (response) {\r\n                this.setState({ data: response });\r\n            }.bind(this));\r\n    }\r\n\r\n    render() {\r\n\r\n        if (this.state.data) {\r\n            let stories = [];\r\n            for (let s of this.state.data) {\r\n                stories.push(<Story id={s} commentCallback={this.commentClickCallback} selected={this.state.selectedStory === s}></Story>)\r\n            }\r\n            return (\r\n                <div class=\"wrap\">\r\n                    <div class=\"StoryWindow box-left\">\r\n                        {stories}\r\n                    </div>\r\n                    <div class=\"box-right\">\r\n                        <CommentWindow kids={this.state.kids}></CommentWindow>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return <div><p>Loading...</p></div>;;\r\n    }\r\n}\r\n\r\nexport default StoryWindow;","import './styles/App.css';\r\nimport StoryWindow from './StoryWindow';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <div class=\"Ribbon\">\r\n        <a href=\"https://github.com/MitchelPaulin/YAHNW\" style={{ color: 'white', textDecoration: 'none' }}>\r\n          <p>YAHNW</p>\r\n        </a>\r\n      </div>\r\n      <StoryWindow selectedStory={null} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}