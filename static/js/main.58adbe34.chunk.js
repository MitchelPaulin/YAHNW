(this.webpackJsonpYAHNW=this.webpackJsonpYAHNW||[]).push([[0],[,,,,,,,,function(t,e,s){},,,,,,,function(t,e,s){},function(t,e,s){},,function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var n=s(1),i=s.n(n),c=s(9),o=s.n(c),a=(s(15),s(16),s(6)),r=s(2),l=s(3),d=s(5),h=s(4),j=(s(8),s(10)),u=s.n(j);function b(t){var e=Math.floor(Date.now()/1e3)-t;if(e>=86400){var s=Math.floor(e/86400);return s>1?"".concat(s," days ago"):"1 day ago"}if(e>=3600){var n=Math.floor(e/3600);return n>1?"".concat(n," hours ago"):"1 hour ago"}var i=Math.floor(e/60);return i>0?i>1?"".concat(i," minutes ago"):"1 minute ago":"Just Posted"}var m=s(0),f=function(t){Object(d.a)(s,t);var e=Object(h.a)(s);function s(t){var n;return Object(r.a)(this,s),(n=e.call(this,t)).state={kids:null,comment:null,isHidden:!1},n}return Object(l.a)(s,[{key:"fetchComments",value:function(t){fetch("https://hacker-news.firebaseio.com/v0/item/"+t+".json").then((function(t){return t.json()})).then(function(t){this.setState({comment:t})}.bind(this))}},{key:"componentDidMount",value:function(){this.fetchComments(this.props.rootKid)}},{key:"componentDidUpdate",value:function(t){this.props.rootKid!==t.rootKid&&(this.setState({isHidden:!1}),this.fetchComments(this.props.rootKid))}},{key:"authorClicked",value:function(){this.setState({isHidden:!this.state.isHidden})}},{key:"render",value:function(){var t=this;if(this.state.comment&&!this.state.comment.deleted){var e=u.a.sanitize(this.state.comment.text),n=[];if(this.state.comment.kids){var i,c=Object(a.a)(this.state.comment.kids);try{for(c.s();!(i=c.n()).done;){var o=i.value;n.push(Object(m.jsx)(s,{rootKid:o,nesting:this.props.nesting+1}))}}catch(r){c.e(r)}finally{c.f()}}return this.state.isHidden?Object(m.jsx)("div",{style:{paddingLeft:0===this.props.nesting?"0%":"2%"},children:Object(m.jsxs)("button",{class:"comment-author",onClick:function(){return t.authorClicked()},children:[Object(m.jsx)("div",{class:"inline",style:{paddingLeft:"1%"},children:Object(m.jsx)("div",{class:"triangle-down-comment"})}),this.state.comment.by,Object(m.jsx)("p",{class:"time",children:b(this.state.comment.time)})]})}):Object(m.jsx)("div",{style:{paddingLeft:0===this.props.nesting?"0%":"2%"},children:Object(m.jsxs)("div",{style:{borderLeft:0===this.props.nesting?"none":"1px solid grey"},children:[Object(m.jsxs)("button",{class:"comment-author",onClick:function(){return t.authorClicked()},children:[Object(m.jsx)("div",{class:"inline",style:{paddingLeft:"1%"},children:Object(m.jsx)("div",{class:"triangle-up-comment"})}),this.state.comment.by,Object(m.jsx)("p",{class:"time",children:b(this.state.comment.time)})]}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{style:{paddingBottom:"1%",paddingLeft:"3%"},dangerouslySetInnerHTML:{__html:e}})}),n]})})}return Object(m.jsx)("div",{})}}]),s}(n.Component),p=function(t){Object(d.a)(s,t);var e=Object(h.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){if(this.props.kids){var t,e=[],s=Object(a.a)(this.props.kids);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.push(Object(m.jsx)(f,{rootKid:n,nesting:0,shouldHide:!1}))}}catch(i){s.e(i)}finally{s.f()}return Object(m.jsx)("div",{style:{paddingTop:"1%"},class:"comment",children:e})}return Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Click on a speech bubble to load some comments"})})}}]),s}(n.Component),O=(s(18),s.p+"static/media/bubble.7187cb4e.png"),v=function(t){Object(d.a)(s,t);var e=Object(h.a)(s);function s(t){var n;return Object(r.a)(this,s),(n=e.call(this,t)).state={json:null},n}return Object(l.a)(s,[{key:"componentDidMount",value:function(){fetch("https://hacker-news.firebaseio.com/v0/item/"+this.props.id+".json").then((function(t){return t.json()})).then(function(t){this.setState({json:t})}.bind(this))}},{key:"commentIconClicked",value:function(){this.props.commentCallback(this.state.json.kids,this.state.json.id)}},{key:"render",value:function(){var t=this;return this.state.json?Object(m.jsxs)("div",{class:"bottom",style:this.props.selected?{borderLeft:"10px solid orange"}:{},children:[Object(m.jsxs)("div",{style:{float:"left",width:"85%"},children:[Object(m.jsx)("a",{class:"title",href:this.state.json.url,children:this.state.json.title}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)("p",{class:"author",children:this.state.json.by}),Object(m.jsx)("p",{class:"time-story",children:b(this.state.json.time)})]}),Object(m.jsx)("a",{class:"link",href:this.state.json.url,children:this.state.json.url})]}),Object(m.jsxs)("div",{style:{float:"right",width:"8%"},children:[Object(m.jsx)("p",{class:"inline",children:this.state.json.score}),Object(m.jsx)("div",{class:"triangle-up inline"}),Object(m.jsxs)("div",{class:"block",onClick:function(){return t.commentIconClicked()},children:[Object(m.jsx)("p",{class:"inline",children:this.state.json.kids?this.state.json.kids.length:0}),Object(m.jsx)("img",{src:O,alt:"speech bubble",style:{width:"25%"}})]})]}),Object(m.jsx)("div",{style:{clear:"both"}})]}):Object(m.jsx)("div",{})}}]),s}(n.Component),x=(s(19),function(t){Object(d.a)(s,t);var e=Object(h.a)(s);function s(t){var n;return Object(r.a)(this,s),(n=e.call(this,t)).commentClickCallback=function(t,e){n.setState({kids:t,selectedStory:e})},n.state={data:null,kids:null,selectedStory:null},n}return Object(l.a)(s,[{key:"componentDidMount",value:function(){fetch("https://hacker-news.firebaseio.com/v0/topstories.json").then((function(t){return t.json()})).then(function(t){this.setState({data:t})}.bind(this))}},{key:"render",value:function(){if(this.state.data){var t,e=[],s=Object(a.a)(this.state.data);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.push(Object(m.jsx)(v,{id:n,commentCallback:this.commentClickCallback,selected:this.state.selectedStory===n}))}}catch(i){s.e(i)}finally{s.f()}return Object(m.jsxs)("div",{class:"wrap",children:[Object(m.jsx)("div",{class:"StoryWindow box-left",children:e}),Object(m.jsx)("div",{class:"box-right",children:Object(m.jsx)(p,{kids:this.state.kids})})]})}return Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:"Loading..."})})}}]),s}(n.Component));var y=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)("div",{class:"Ribbon",children:Object(m.jsx)("a",{href:"https://github.com/MitchelPaulin/YAHNW",style:{color:"white",textDecoration:"none"},children:Object(m.jsx)("p",{children:"YAHNW"})})}),Object(m.jsx)(x,{selectedStory:null})]})};o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.58adbe34.chunk.js.map