(this.webpackJsonpYAHNW=this.webpackJsonpYAHNW||[]).push([[0],[,,,,,,,,function(t,e,s){},,,,,,,function(t,e,s){},,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var n=s(1),i=s.n(n),c=s(9),o=s.n(c),a=(s(15),s(2)),r=s(3),l=s(5),d=s(4),h=s(6),j=(s(8),s(10)),u=s.n(j);function b(t){var e=Math.floor(Date.now()/1e3)-t;if(e>=86400){var s=Math.floor(e/86400);return s>1?"".concat(s," days ago"):"1 day ago"}if(e>=3600){var n=Math.floor(e/3600);return n>1?"".concat(n," hours ago"):"1 hour ago"}var i=Math.floor(e/60);return i>0?i>1?"".concat(i," minutes ago"):"1 minute ago":"Just Posted"}var m=s(0),p=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(a.a)(this,s),(n=e.call(this,t)).state={kids:null,comment:null,isHidden:!1},n}return Object(r.a)(s,[{key:"fetchComments",value:function(t){fetch("https://hacker-news.firebaseio.com/v0/item/"+t+".json").then((function(t){return t.json()})).then(function(t){this.setState({comment:t})}.bind(this))}},{key:"componentDidMount",value:function(){this.fetchComments(this.props.rootKid)}},{key:"componentDidUpdate",value:function(t){this.props.rootKid!==t.rootKid&&(this.setState({isHidden:!1}),this.fetchComments(this.props.rootKid))}},{key:"authorClicked",value:function(){this.setState({isHidden:!this.state.isHidden})}},{key:"render",value:function(){var t=this;if(this.state.comment&&!this.state.comment.deleted){var e=u.a.sanitize(this.state.comment.text),n=[];if(this.state.comment.kids){var i,c=Object(h.a)(this.state.comment.kids);try{for(c.s();!(i=c.n()).done;){var o=i.value;n.push(Object(m.jsx)(s,{rootKid:o,nesting:this.props.nesting+1},o))}}catch(a){c.e(a)}finally{c.f()}}return this.state.isHidden?Object(m.jsx)("div",{style:{paddingLeft:0===this.props.nesting?"0%":"2%"},children:Object(m.jsxs)("button",{className:"comment-author",onClick:function(){return t.authorClicked()},children:[Object(m.jsx)("div",{className:"inline",style:{paddingLeft:"1%"},children:Object(m.jsx)("div",{className:"triangle-down-comment"})}),this.state.comment.by,Object(m.jsx)("p",{className:"time",children:b(this.state.comment.time)})]})}):Object(m.jsx)("div",{style:{paddingLeft:0===this.props.nesting?"0%":"2%"},children:Object(m.jsxs)("div",{style:{borderLeft:0===this.props.nesting?"none":"1px solid grey"},children:[Object(m.jsxs)("button",{className:"comment-author",onClick:function(){return t.authorClicked()},children:[Object(m.jsx)("div",{className:"inline",style:{paddingLeft:"1%"},children:Object(m.jsx)("div",{className:"triangle-up-comment"})}),this.state.comment.by,Object(m.jsx)("p",{className:"time",children:b(this.state.comment.time)})]}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{style:{paddingBottom:"1%",paddingLeft:"3%"},dangerouslySetInnerHTML:{__html:e}})}),n]})})}return Object(m.jsx)("div",{})}}]),s}(n.Component),f=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){return Object(a.a)(this,s),e.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){if(this.props.kids){var t,e=[],s=Object(h.a)(this.props.kids);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.push(Object(m.jsx)(p,{rootKid:n,nesting:0,shouldHide:!1},n))}}catch(i){s.e(i)}finally{s.f()}return Object(m.jsx)("div",{className:"comment",children:e})}return Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"click-comment",children:"Click on a speech bubble"})})}}]),s}(n.Component),O=(s(17),s.p+"static/media/bubble.68798dc2.svg"),v=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(a.a)(this,s),(n=e.call(this,t)).state={json:null},n}return Object(r.a)(s,[{key:"componentDidMount",value:function(){fetch("https://hacker-news.firebaseio.com/v0/item/"+this.props.id+".json").then((function(t){return t.json()})).then(function(t){this.setState({json:t})}.bind(this))}},{key:"commentIconClicked",value:function(){this.props.commentCallback(this.state.json.kids,this.state.json.id)}},{key:"render",value:function(){var t=this;return this.state.json?Object(m.jsxs)("div",{className:"bottom",style:this.props.selected?{borderLeft:"7px solid #fab162"}:{},children:[Object(m.jsxs)("div",{style:{float:"left",width:"85%"},children:[Object(m.jsx)("a",{className:"title",href:this.state.json.url,children:this.state.json.title}),Object(m.jsxs)("div",{style:{display:"flex"},children:[Object(m.jsx)("p",{className:"author",children:this.state.json.by}),Object(m.jsx)("p",{className:"time-story",children:b(this.state.json.time)})]}),Object(m.jsx)("a",{className:"link",href:this.state.json.url,children:this.state.json.url})]}),Object(m.jsxs)("div",{style:{float:"right",width:"8%"},children:[Object(m.jsx)("p",{className:"inline",children:this.state.json.score}),Object(m.jsx)("div",{className:"triangle-up inline"}),Object(m.jsxs)("div",{className:"block",onClick:function(){return t.commentIconClicked()},children:[Object(m.jsx)("p",{className:"inline",children:this.state.json.kids?this.state.json.kids.length:0}),Object(m.jsx)("img",{src:O,alt:"speech bubble",style:{width:"25%"}})]})]}),Object(m.jsx)("div",{style:{clear:"both"}})]}):Object(m.jsx)("div",{})}}]),s}(n.Component),y=(s(18),function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(a.a)(this,s),(n=e.call(this,t)).commentClickCallback=function(t,e){n.setState({kids:t,selectedStory:e})},n.state={data:null,kids:null,selectedStory:null},n}return Object(r.a)(s,[{key:"componentDidUpdate",value:function(t){this.props.storyMode!==t.storyMode&&this.fetchStories()}},{key:"componentDidMount",value:function(){this.fetchStories()}},{key:"fetchStories",value:function(){var t;t="Top"===this.props.storyMode?"https://hacker-news.firebaseio.com/v0/topstories.json":"Best"===this.props.storyMode?"https://hacker-news.firebaseio.com/v0/beststories.json":"New"===this.props.storyMode?"https://hacker-news.firebaseio.com/v0/newstories.json":"https://hacker-news.firebaseio.com/v0/topstories.json",fetch(t).then((function(t){return t.json()})).then(function(t){this.setState({data:t})}.bind(this))}},{key:"render",value:function(){if(this.state.data){var t,e=[],s=Object(h.a)(this.state.data);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.push(Object(m.jsx)(v,{id:n,commentCallback:this.commentClickCallback,selected:this.state.selectedStory===n},n))}}catch(i){s.e(i)}finally{s.f()}return Object(m.jsxs)("div",{className:"wrap",children:[Object(m.jsx)("div",{className:"story-window box-left",children:e}),Object(m.jsx)("div",{className:"box-right",children:Object(m.jsx)(f,{kids:this.state.kids})})]})}return Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"loading",children:"Loading..."})})}}]),s}(n.Component)),x=(s(19),function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(a.a)(this,s),(n=e.call(this,t)).state={selectedButton:"Top"},n}return Object(r.a)(s,[{key:"storyButtonClicked",value:function(t){this.props.storyModeChangedCallback(t),this.setState({selectedButton:t})}},{key:"render",value:function(){var t=this;return Object(m.jsxs)("div",{className:"ribbon",children:[Object(m.jsx)("a",{href:"https://github.com/MitchelPaulin/YAHNW",className:"site-title",children:"YAHNW"}),Object(m.jsxs)("div",{className:"button-box",children:[Object(m.jsx)("button",{className:"story-button",onClick:function(){return t.storyButtonClicked("Best")},children:"Best"===this.state.selectedButton?Object(m.jsx)("b",{children:"Best"}):Object(m.jsx)("p",{children:"Best"})}),Object(m.jsx)("button",{className:"story-button",onClick:function(){return t.storyButtonClicked("Top")},children:"Top"===this.state.selectedButton?Object(m.jsx)("b",{children:"Top"}):Object(m.jsx)("p",{children:"Top"})}),Object(m.jsx)("button",{className:"story-button",onClick:function(){return t.storyButtonClicked("New")},children:"New"===this.state.selectedButton?Object(m.jsx)("b",{children:"New"}):Object(m.jsx)("p",{children:"New"})})]})]})}}]),s}(n.Component)),k=(s(20),function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(a.a)(this,s),(n=e.call(this,t)).storyModeChanged=function(t){n.setState({storyMode:t})},n.state={storyMode:"Top"},n}return Object(r.a)(s,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(x,{storyModeChangedCallback:this.storyModeChanged}),Object(m.jsx)(y,{storyMode:this.state.storyMode})]})}}]),s}(n.Component));o.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.87ffb023.chunk.js.map