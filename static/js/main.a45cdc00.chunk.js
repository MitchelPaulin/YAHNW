(this.webpackJsonpYAHNW=this.webpackJsonpYAHNW||[]).push([[0],[,,,,,,,,,function(t,e,s){},,,,,,function(t,e,s){},,function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){},function(t,e,s){"use strict";s.r(e);var n=s(1),i=s.n(n),o=s(10),c=s.n(o),r=(s(15),s(2)),a=s(3),l=s(5),d=s(4),h=s(6),j=(s(9),s(7)),u=s.n(j);function b(t){var e=Math.floor(Date.now()/1e3)-t;if(e>=86400){var s=Math.floor(e/86400);return s>1?"".concat(s," days ago"):"1 day ago"}if(e>=3600){var n=Math.floor(e/3600);return n>1?"".concat(n," hours ago"):"1 hour ago"}var i=Math.floor(e/60);return i>0?i>1?"".concat(i," minutes ago"):"1 minute ago":"Just Posted"}var m=s(0),f=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(r.a)(this,s),(n=e.call(this,t)).state={kids:null,comment:null,isHidden:!1},n}return Object(a.a)(s,[{key:"fetchComments",value:function(t){fetch("https://hacker-news.firebaseio.com/v0/item/"+t+".json").then((function(t){return t.json()})).then(function(t){this.setState({comment:t})}.bind(this))}},{key:"componentDidMount",value:function(){this.fetchComments(this.props.rootKid)}},{key:"componentDidUpdate",value:function(t){this.props.rootKid!==t.rootKid&&(this.setState({isHidden:!1}),this.fetchComments(this.props.rootKid))}},{key:"authorClicked",value:function(){this.setState({isHidden:!this.state.isHidden})}},{key:"render",value:function(){var t=this;if(this.state.comment&&!this.state.comment.deleted){var e=u.a.sanitize(this.state.comment.text),n=[];if(this.state.comment.kids){var i,o=Object(h.a)(this.state.comment.kids);try{for(o.s();!(i=o.n()).done;){var c=i.value;n.push(Object(m.jsx)(s,{rootKid:c,nesting:this.props.nesting+1},c))}}catch(r){o.e(r)}finally{o.f()}}return this.state.isHidden?Object(m.jsx)("div",{style:{paddingLeft:0===this.props.nesting?"0%":"2%"},children:Object(m.jsx)("div",{style:{marginLeft:"4px",borderLeft:0===this.props.nesting?"none":"2px solid grey"},children:Object(m.jsxs)("button",{className:"comment-author",onClick:function(){return t.authorClicked()},children:[Object(m.jsx)("div",{className:"triangle-box",children:Object(m.jsx)("div",{className:"triangle-down-comment"})}),this.state.comment.by,Object(m.jsx)("p",{className:"time",children:b(this.state.comment.time)})]})})}):Object(m.jsx)("div",{style:{paddingLeft:0===this.props.nesting?"0%":"2%"},children:Object(m.jsxs)("div",{style:{marginLeft:"4px",borderLeft:0===this.props.nesting?"none":"2px solid grey"},children:[Object(m.jsxs)("button",{className:"comment-author",onClick:function(){return t.authorClicked()},children:[Object(m.jsx)("div",{className:"triangle-box",children:Object(m.jsx)("div",{className:"triangle-up-comment"})}),this.state.comment.by,Object(m.jsx)("p",{className:"time",children:b(this.state.comment.time)})]}),Object(m.jsx)("div",{style:{paddingLeft:"2%"},children:Object(m.jsx)("div",{className:"comment-box",dangerouslySetInnerHTML:{__html:e}})}),n]})})}return Object(m.jsx)("div",{})}}]),s}(n.Component),p=s.p+"static/media/bubble.b5f42b63.png",y=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(){return Object(r.a)(this,s),e.apply(this,arguments)}return Object(a.a)(s,[{key:"render",value:function(){if(this.props.kids){var t,e=[],s=Object(h.a)(this.props.kids);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.push(Object(m.jsx)(f,{rootKid:n,nesting:0,shouldHide:!1},n))}}catch(o){s.e(o)}finally{s.f()}if(void 0===this.props.displayText)return Object(m.jsx)("div",{className:"comment-window",children:e});var i=u.a.sanitize(this.props.displayText);return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"comment-text-box",dangerouslySetInnerHTML:{__html:i}}),Object(m.jsx)("div",{className:"comment-window",children:e})]})}return Object(m.jsxs)("div",{children:[Object(m.jsx)("p",{className:"click-comment-message",children:"Click on a"}),Object(m.jsx)("img",{src:p,alt:"speech bubble",style:{width:"3%"}})]})}}]),s}(n.Component),O=(s(17),function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(r.a)(this,s),(n=e.call(this,t)).state={storyJson:null},n}return Object(a.a)(s,[{key:"componentDidMount",value:function(){fetch("https://hacker-news.firebaseio.com/v0/item/"+this.props.id+".json").then((function(t){return t.json()})).then(function(t){this.setState({storyJson:t})}.bind(this))}},{key:"commentIconClicked",value:function(){this.props.commentCallback(this.state.storyJson.kids,this.state.storyJson.id,this.state.storyJson.text)}},{key:"minimizeUrl",value:function(t){return t?t.replace(/^(?:https?:\/\/)?(?:www\.)?/i,""):""}},{key:"render",value:function(){var t=this;if(!this.state.storyJson)return Object(m.jsx)("div",{});var e={backgroundColor:this.props.selected?"#272727":""};return this.props.isMobile?Object(m.jsxs)("div",{className:"story-container",style:e,children:[Object(m.jsxs)("div",{className:"story-card",children:[Object(m.jsx)("a",{className:"title",href:this.state.storyJson.url,children:this.state.storyJson.title}),Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("p",{className:"author",children:this.state.storyJson.by}),Object(m.jsx)("p",{className:"time-story",children:b(this.state.storyJson.time)})]}),Object(m.jsx)("a",{className:"link",href:this.state.storyJson.url,children:this.minimizeUrl(this.state.storyJson.url)})]}),Object(m.jsx)("div",{className:"points-box",children:Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("p",{className:"score",children:this.state.storyJson.score}),Object(m.jsx)("div",{className:"triangle-up"})]})}),Object(m.jsx)("div",{style:{clear:"both"}})]}):Object(m.jsxs)("div",{className:"story-container",style:e,children:[Object(m.jsxs)("div",{style:{float:"left",width:"85%"},children:[Object(m.jsx)("a",{className:"title",href:this.state.storyJson.url,children:this.state.storyJson.title}),Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("p",{className:"author",children:this.state.storyJson.by}),Object(m.jsx)("p",{className:"time-story",children:b(this.state.storyJson.time)})]}),Object(m.jsx)("a",{className:"link",href:this.state.storyJson.url,children:this.minimizeUrl(this.state.storyJson.url)})]}),Object(m.jsxs)("div",{className:"comments-and-points-box",children:[Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsx)("p",{className:"score",children:this.state.storyJson.score}),Object(m.jsx)("div",{className:"triangle-up"})]}),Object(m.jsxs)("button",{className:"flex comment-button",onClick:function(){return t.commentIconClicked()},children:[Object(m.jsx)("p",{className:"comment-count",children:this.state.storyJson.kids?this.state.storyJson.kids.length:0}),Object(m.jsx)("img",{src:p,alt:"speech bubble",className:"speech-bubble"})]})]}),Object(m.jsx)("div",{style:{clear:"both"}})]})}}]),s}(n.Component)),x=(s(18),function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(r.a)(this,s),(n=e.call(this,t)).commentClickCallback=function(t,e,s){n.setState({storyCommentIds:t,selectedStory:e,selectedStoryText:s})},n.handleWindowSizeChange=function(){n.state.isMobile!==n.isMobileView()&&n.setState({isMobile:!n.state.isMobile})},n.ref=i.a.createRef(),n.state={storyIds:null,storyCommentIds:null,selectedStory:null,selectedStoryText:null,isMobile:n.isMobileView()},n}return Object(a.a)(s,[{key:"componentDidUpdate",value:function(t){this.props.storyMode!==t.storyMode&&(this.fetchStories(),this.scrollToTopOfPage())}},{key:"componentDidMount",value:function(){this.fetchStories(),window.addEventListener("resize",this.handleWindowSizeChange)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowSizeChange)}},{key:"scrollToTopOfPage",value:function(){this.ref.current.scrollTo(0,0)}},{key:"fetchStories",value:function(){var t="https://hacker-news.firebaseio.com/v0/topstories.json";"Best"===this.props.storyMode?t="https://hacker-news.firebaseio.com/v0/beststories.json":"New"===this.props.storyMode&&(t="https://hacker-news.firebaseio.com/v0/newstories.json"),fetch(t).then((function(t){return t.json()})).then(function(t){this.setState({storyIds:t})}.bind(this))}},{key:"isMobileView",value:function(){return window.innerWidth<=1e3}},{key:"render",value:function(){if(this.state.storyIds){var t,e=[],s=Object(h.a)(this.state.storyIds);try{for(s.s();!(t=s.n()).done;){var n=t.value;e.push(Object(m.jsx)(O,{id:n,commentCallback:this.commentClickCallback,isMobile:this.state.isMobile,selected:this.state.selectedStory===n&&!this.state.isMobile},n))}}catch(i){s.e(i)}finally{s.f()}return this.isMobileView()?Object(m.jsx)("div",{className:"wrap",children:Object(m.jsx)("div",{className:"story-window box-full",ref:this.ref,children:e})}):Object(m.jsxs)("div",{className:"wrap",children:[Object(m.jsx)("div",{className:"story-window box-left",ref:this.ref,children:e}),Object(m.jsx)("div",{className:"box-right",children:Object(m.jsx)(y,{kids:this.state.storyCommentIds,displayText:this.state.selectedStoryText})})]})}return Object(m.jsx)("div",{children:Object(m.jsx)("p",{className:"loading",children:"Loading..."})})}}]),s}(n.Component)),v=(s(19),s.p+"static/media/yahnw.f8a8da28.png"),k=function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(r.a)(this,s),(n=e.call(this,t)).state={selectedButton:"Top"},n}return Object(a.a)(s,[{key:"storyButtonClicked",value:function(t){this.props.storyModeChangedCallback(t),this.setState({selectedButton:t})}},{key:"render",value:function(){var t=this,e={backgroundColor:"#272727"};return Object(m.jsxs)("div",{className:"ribbon",children:[Object(m.jsx)("img",{src:v,className:"logo"}),Object(m.jsx)("p",{children:"YAHNW"}),Object(m.jsxs)("div",{className:"button-box",children:[Object(m.jsx)("button",{className:"story-button",style:"Top"===this.state.selectedButton?e:{},onClick:function(){return t.storyButtonClicked("Top")},children:Object(m.jsx)("p",{children:"Top"})}),Object(m.jsx)("button",{className:"story-button",style:"Best"===this.state.selectedButton?e:{},onClick:function(){return t.storyButtonClicked("Best")},children:Object(m.jsx)("p",{children:"Best"})}),Object(m.jsx)("button",{className:"story-button",style:"New"===this.state.selectedButton?e:{},onClick:function(){return t.storyButtonClicked("New")},children:Object(m.jsx)("p",{children:"New"})})]})]})}}]),s}(n.Component),N=(s(20),function(t){Object(l.a)(s,t);var e=Object(d.a)(s);function s(t){var n;return Object(r.a)(this,s),(n=e.call(this,t)).storyModeChanged=function(t){n.setState({storyMode:t})},n.state={storyMode:"Top"},n}return Object(a.a)(s,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(k,{storyModeChangedCallback:this.storyModeChanged}),Object(m.jsx)(x,{storyMode:this.state.storyMode})]})}}]),s}(n.Component));c.a.render(Object(m.jsx)(i.a.StrictMode,{children:Object(m.jsx)(N,{})}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.a45cdc00.chunk.js.map